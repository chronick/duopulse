<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DuoPulse - Iteration History</title>
  <link rel="stylesheet" href="../styles.css">
  <link rel="stylesheet" href="../css/iterations.css">
</head>
<body>
  <header>
    <div class="header-top">
      <a href="../../" class="back-link">&larr; DuoPulse Home</a>
    </div>
    <h1>DuoPulse v5 <span class="subtitle">Iteration History</span></h1>
    <nav>
      <a href="../index.html" class="nav-btn">Dashboard</a>
      <a href="index.html" class="nav-btn active nav-link-btn">Iterations</a>
    </nav>
  </header>

  <div class="app-layout">
    <main class="main-content iterations-page">

    <!-- Summary Statistics -->
    <section class="iteration-summary">
      <div class="stat-card">
        <div class="stat-value" id="stat-total">0</div>
        <div class="stat-label">Total Iterations</div>
      </div>
      <div class="stat-card success">
        <div class="stat-value" id="stat-success">0</div>
        <div class="stat-label">Successful</div>
      </div>
      <div class="stat-card failed">
        <div class="stat-value" id="stat-failed">0</div>
        <div class="stat-label">Failed</div>
      </div>
      <div class="stat-card">
        <div class="stat-value" id="stat-rate">0%</div>
        <div class="stat-label">Success Rate</div>
      </div>
    </section>

    <!-- Timeline Chart -->
    <section class="timeline-section">
      <h2>Metrics Progress Over Time</h2>
      <p class="section-description">Overall alignment score from baseline tag history</p>
      <div id="timeline-chart-container">
        <div id="timeline-chart"></div>
      </div>
    </section>

    <!-- Filters and Search -->
    <section class="iteration-controls">
      <div class="search-box">
        <input type="search" id="search-iterations" placeholder="Search iterations..." />
      </div>
      <div class="filters">
        <label>
          Status:
          <select id="filter-status">
            <option value="all">All</option>
            <option value="success">Success</option>
            <option value="failed">Failed</option>
            <option value="pending">Pending</option>
          </select>
        </label>
        <label>
          Sort:
          <select id="sort-iterations">
            <option value="newest">Newest First</option>
            <option value="oldest">Oldest First</option>
            <option value="impact">Highest Impact</option>
          </select>
        </label>
      </div>
    </section>

    <!-- Iteration Cards -->
    <section class="iteration-cards">
      <div id="iterations-list">
        <div class="no-iterations">
          <p>No iterations logged yet.</p>
          <p class="hint">Run <code>/iterate "goal"</code> to start hill-climbing.</p>
        </div>
      </div>
    </section>
    </main>
  </div>

  <script type="module" src="../js/iterations.js"></script>
</body>
</html>
