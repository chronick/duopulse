## Improvement Estimates

**Goal**: Fix Minimal Techno preset regression caused by Four on Floor fix
**Target Metric**: Minimal Techno conformance (currently 64%, threshold 75%)

### Predicted Changes

**Code changes** (not lever changes - this is a bug fix):
- `src/Engine/HitBudget.cpp:54-57`: Add ENERGY check to quarter-note floor condition
- `src/Engine/EuclideanGen.cpp:160-161`: Add ENERGY check to pure euclidean ratio condition

**Rationale**: The Four on Floor fix (iteration 2026-01-22-001) applied `shape <= 0.05f` condition universally, but this breaks Minimal Techno which has SHAPE=0 but ENERGY=0.20. The condition should be `shape <= 0.05f && energy <= 0.05f` to only activate for true Four on Floor patterns.

### Predicted Impact

**Primary Effects** (target metric):
- Minimal Techno conformance: Expected +15-20% improvement (64% -> 79-84%)
- Reasoning: Fixing the hit count from 16 back to ~5-6 will match the expected sparse pattern
- Confidence: HIGH (90%)

**Pattern Impact**:
- V1 hits: 16 -> ~5-6 (based on ENERGY=0.20 euclidean K calculation)
- Density: ~0.50 -> ~0.15-0.20 (within target max 0.30)
- Regularity: Should remain high with sparse euclidean pattern

**Secondary Effects** (other metrics):
- Four on Floor: Expected 0% change (still passes)
- Other presets: Expected 0% change (they have SHAPE > 0.05 or don't rely on this condition)
- Pentagon score: Possible +1-3% improvement if stable zone metrics improve

**Risk Assessment**:
- Regression risk: LOW
- Potential regressions: Four on Floor if the condition is too restrictive
- Mitigation: The condition `energy <= 0.05f` includes Four on Floor (ENERGY=0) but excludes Minimal Techno (ENERGY=0.20)

### Success Criteria

- Minimal Techno conformance improves by >= 10% (64% -> 74%+)
- Four on Floor conformance unchanged (~80%)
- No preset regressions > 2%
- All tests pass

### Learning Objectives

What will this iteration teach us about:
- The interaction between ENERGY and SHAPE parameter domains
- The importance of testing preset combinations after algorithm changes
- How "pure euclidean mode" should be defined (requires both ENERGY AND SHAPE constraints)
